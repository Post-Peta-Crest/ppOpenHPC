
<html>
<head>
<title>ErrMessage メンバ関数説明</title><base target="main">
<link rel ="stylesheet" type="text/css" href="stylesheet.css" title="stylesheet">
<meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
</head>

<body bgcolor="#ffffff">

<div align="right"><font size="2">ABCLibScriptC プロジェクト</font></div>

<table width=100% bgcolor="#e6e6fa" class="titlebgcolor" border="1" cellpadding="7" cellspacing="0">
<tr>
    <td><font class="titlefont">14.2.6. ErrMessage メンバ関数説明</font></td>
</tr>
</table>

<p></p>
<table border="1">
<tr><th align="left" nowrap>メンバ関数名</th>  <td nowrap>ErrMessage</td></tr>
<tr><th align="left" nowrap>定義ファイル名</th><td nowrap>main.cpp</td></tr>
<tr><th align="left" nowrap>定義行</th>        <td nowrap>767</td></tr>
<tr><th align="left" nowrap>所属名</th>        <td nowrap>TMainF</td></tr>
<tr><th align="left" nowrap>アクセス属性</th>  <td nowrap>public</td></tr>
<tr><th align="left" nowrap>宣言形式</th>      <td nowrap>void ErrMessage ( int Pos , string s )</td></tr>
<tr><th align="left" nowrap>概要</th>          <td nowrap>エラーメッセージの表示とログファイルへの出力を行う。</td></tr>
<tr><th align="left" nowrap>戻り値</th>        <td nowrap>なし</td></tr>
<tr><th align="left" nowrap>パラメタ説明</th>  <td nowrap>string s 表示する文字列</td></tr>
<tr><th align="left" nowrap>機能説明</th>      <td nowrap></td></tr>
<tr><th align="left" nowrap>備考</th>          <td nowrap></td></tr>
</table>

<p></p>
呼出し元関数一覧表
<table border="1">
<tr>
<th nowrap>№</th>
<th nowrap>名称</th>
<th nowrap>定義ファイル名</th>
<th nowrap>定義行</th>
</tr>
<tr>
<td nowrap>1</td>
<td nowrap><a href="16_2_3.htm">TMainF::CodeGen</a></td>
<td nowrap><a href="5_1.htm">main.cpp</a></td>
<td nowrap><a href="16_2_3.htm">493</a></td>
</tr>
<tr>
<td nowrap>2</td>
<td nowrap><a href="16_12_3.htm">TVisualDM::CopyDataForHTML</a></td>
<td nowrap><a href="5_8.htm">Visual.cpp</a></td>
<td nowrap><a href="16_12_3.htm">150</a></td>
</tr>
<tr>
<td nowrap>3</td>
<td nowrap><a href="31_5.htm">Eval</a></td>
<td nowrap><a href="5_3.htm">pass2.cpp</a></td>
<td nowrap><a href="31_5.htm">2170</a></td>
</tr>
<tr>
<td nowrap>4</td>
<td nowrap><a href="16_3_3.htm">TPass4::Exec</a></td>
<td nowrap><a href="5_5.htm">pass4.cpp</a></td>
<td nowrap><a href="16_3_3.htm">138</a></td>
</tr>
<tr>
<td nowrap>5</td>
<td nowrap><a href="16_4_6.htm">TPass5::Exec</a></td>
<td nowrap><a href="5_6.htm">pass5.cpp</a></td>
<td nowrap><a href="16_4_6.htm">264</a></td>
</tr>
<tr>
<td nowrap>6</td>
<td nowrap><a href="16_2_7.htm">TMainF::GetCommandLineArg</a></td>
<td nowrap><a href="5_1.htm">main.cpp</a></td>
<td nowrap><a href="16_2_7.htm">296</a></td>
</tr>
<tr>
<td nowrap>7</td>
<td nowrap><a href="16_10_18.htm">TTuneRegion::GetPrePostBPSetSubregionStr</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_18.htm">12522</a></td>
</tr>
<tr>
<td nowrap>8</td>
<td nowrap><a href="16_10_20.htm">TTuneRegion::GetPrePostSubregionStr</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_20.htm">12413</a></td>
</tr>
<tr>
<td nowrap>9</td>
<td nowrap><a href="16_10_19.htm">TTuneRegion::GetPrePostSubregionStr</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_19.htm">12747</a></td>
</tr>
<tr>
<td nowrap>10</td>
<td nowrap><a href="31_10.htm">main</a></td>
<td nowrap><a href="5_1.htm">main.cpp</a></td>
<td nowrap><a href="31_10.htm">75</a></td>
</tr>
<tr>
<td nowrap>11</td>
<td nowrap><a href="16_4_7.htm">TPass5::MakeControlCode_C</a></td>
<td nowrap><a href="5_6.htm">pass5.cpp</a></td>
<td nowrap><a href="16_4_7.htm">440</a></td>
</tr>
<tr>
<td nowrap>12</td>
<td nowrap><a href="16_4_8.htm">TPass5::MakeControlCode_Fortran</a></td>
<td nowrap><a href="5_6.htm">pass5.cpp</a></td>
<td nowrap><a href="16_4_8.htm">765</a></td>
</tr>
<tr>
<td nowrap>13</td>
<td nowrap><a href="16_12_5.htm">TVisualDM::MakeIndexHTML</a></td>
<td nowrap><a href="5_8.htm">Visual.cpp</a></td>
<td nowrap><a href="16_12_5.htm">209</a></td>
</tr>
<tr>
<td nowrap>14</td>
<td nowrap><a href="16_10_26.htm">TTuneRegion::MakeLoopFusionSplitData</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_26.htm">1313</a></td>
</tr>
<tr>
<td nowrap>15</td>
<td nowrap><a href="16_12_6.htm">TVisualDM::MakeResultHTML</a></td>
<td nowrap><a href="5_8.htm">Visual.cpp</a></td>
<td nowrap><a href="16_12_6.htm">428</a></td>
</tr>
<tr>
<td nowrap>16</td>
<td nowrap><a href="16_10_28.htm">TTuneRegion::MakeSelectData</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_28.htm">308</a></td>
</tr>
<tr>
<td nowrap>17</td>
<td nowrap><a href="16_10_29.htm">TTuneRegion::MakeUnrollData</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_29.htm">1001</a></td>
</tr>
<tr>
<td nowrap>18</td>
<td nowrap><a href="16_10_32.htm">TTuneRegion::OutputAutoExecCode_Fortran</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_32.htm">2878</a></td>
</tr>
<tr>
<td nowrap>19</td>
<td nowrap><a href="16_10_44.htm">TTuneRegion::OutputUnroll_DoBlock_C</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_44.htm">10311</a></td>
</tr>
<tr>
<td nowrap>20</td>
<td nowrap><a href="16_10_45.htm">TTuneRegion::OutputUnroll_DoBlock_Fortran</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_45.htm">9728</a></td>
</tr>
<tr>
<td nowrap>21</td>
<td nowrap><a href="31_18.htm">Pass2_Fortran</a></td>
<td nowrap><a href="5_3.htm">pass2.cpp</a></td>
<td nowrap><a href="31_18.htm">292</a></td>
</tr>
<tr>
<td nowrap>22</td>
<td nowrap><a href="16_12_7.htm">TVisualDM::ResetLogDataFile</a></td>
<td nowrap><a href="5_8.htm">Visual.cpp</a></td>
<td nowrap><a href="16_12_7.htm">104</a></td>
</tr>
<tr>
<td nowrap>23</td>
<td nowrap><a href="16_4_13.htm">TPass5::TPass5</a></td>
<td nowrap><a href="5_6.htm">pass5.cpp</a></td>
<td nowrap><a href="16_4_13.htm">74</a></td>
</tr>
<tr>
<td nowrap>24</td>
<td nowrap><a href="16_10_54.htm">TTuneRegion::TTuneRegion</a></td>
<td nowrap><a href="5_7.htm">TuneRegion.cpp</a></td>
<td nowrap><a href="16_10_54.htm">67</a></td>
</tr>
</table>

<p></p>
呼出し先関数一覧表
<table border="1">
<tr>
<th nowrap>№</th>
<th nowrap>名称</th>
<th nowrap>定義ファイル名</th>
<th nowrap>定義行</th>
</tr>
<tr>
<td nowrap>1</td>
<td nowrap>IntToStr</td>
<td nowrap><a href="5_16.htm">VCL_Lib.h</a></td>
<td nowrap>107</td>
</tr>
<tr>
<td nowrap>2</td>
<td nowrap>Trim</td>
<td nowrap><a href="5_16.htm">VCL_Lib.h</a></td>
<td nowrap>105</td>
</tr>
<tr>
<td nowrap>3</td>
<td nowrap>c_str</td>
<td nowrap><br></td>
<td nowrap><br></td>
</tr>
<tr>
<td nowrap>4</td>
<td nowrap>fprintf</td>
<td nowrap><br></td>
<td nowrap><br></td>
</tr>
<tr>
<td nowrap>5</td>
<td nowrap>printf</td>
<td nowrap><br></td>
<td nowrap><br></td>
</tr>
</table>

<p></p>

<p></p>
参照メンバ変数一覧表
<table border="1">
<tr>
<th nowrap>№</th>
<th nowrap>名称</th>
<th nowrap>定義ファイル名</th>
<th nowrap>定義行</th>
</tr>
<tr>
<td nowrap>1</td>
<td nowrap>TMainF::ErrCount</td>
<td nowrap><a href="5_9.htm">main.h</a></td>
<td nowrap>80</td>
</tr>
<tr>
<td nowrap>2</td>
<td nowrap>TMainF::ErrF</td>
<td nowrap><a href="5_9.htm">main.h</a></td>
<td nowrap>81</td>
</tr>
<tr>
<td nowrap>3</td>
<td nowrap>TMainF::LogFp</td>
<td nowrap><a href="5_9.htm">main.h</a></td>
<td nowrap>78</td>
</tr>
<tr>
<td nowrap>4</td>
<td nowrap>TMainF::SrcFileNameList</td>
<td nowrap><a href="5_9.htm">main.h</a></td>
<td nowrap>77</td>
</tr>
<tr>
<td nowrap>5</td>
<td nowrap>TMainF::TokenList</td>
<td nowrap><a href="5_9.htm">main.h</a></td>
<td nowrap>109</td>
</tr>
</table>

<p></p>
参照先一覧表
<table border="1">
<tr>
<th nowrap>№</th>
<th nowrap>名称</th>
<th nowrap>種別</th>
<th nowrap>定義ファイル名</th>
<th nowrap>定義行</th>
</tr>
<tr>
<td nowrap>1</td>
<td nowrap><a href="16_9_1.htm">TToken</a></td>
<td nowrap>クラス</td>
<td nowrap><a href="5_10.htm">pass1.h</a></td>
<td nowrap><a href="16_9_1.htm">294</a></td>
</tr>
</table>

<p></p>
<pre>
関数論理チャート

        |  +----------------------------------------------+ 
   767  +--+ void TMainF::ErrMessage(int Pos, string s) { | 
           +--+-------------------------------------------+ 
   768        +--- int i;
   769        +--- TToken *Token;
   770        +--- int LineNo;
   771        +--- int sPos;
   772        +--- string FileName = &quot;&quot;;
   773        |    
   774        +--- ErrF = true;
   775        +--- ErrCount++;
   776        +--- printf(&quot;*** ERROR *** %s\n&quot;, s.c_str());
              |  +----------------------+ 
   777        +--+ if (LogFp != NULL){  | 
              |  +--+-------------------+ 
   778        |     +--- fprintf(LogFp, &quot;*** ERROR *** %s\n&quot;, s.c_str());
              |   +-+---+ 
   779        |   |  }  | 
              |   +-----+ 
   780        +--- //
   781        |    // Posの示すSrcFileNameを所得する。  
   782        |    //                                   
              |  +----------------------------------------------+ 
   783        +--+ for (i = 0; i &lt; SrcFileNameList.Count; i++){ | 
              |  +--+-------------------------------------------+ 
   784        |     +--- sPos = (long)SrcFileNameList.Objects[i];
              |     |  +--------------------+ 
   785        |     +--+ if (Pos &gt;= sPos){  | 
              |     |  +--+-----------------+ 
   786        |     |     +--- FileName = SrcFileNameList.Strings[i];
              |     |   +-+---+ 
   787        |     |   |  }  | 
              |     |   +-----+ 
              |   +-+---+ 
   788        |   |  }  | 
              |   +-----+ 
              |  +----------------------------------------------+ 
   789        +--+ if ((Pos &gt;= 0) &amp;&amp; (Pos &lt; TokenList-&gt;Count)){ | 
              |  +--+-------------------------------------------+ 
   790        |     +--- Token = (TToken*)TokenList-&gt;Items[Pos];
              |     |  +----------------------+ 
   791        |     +--+ if (Token == NULL){  | 
              |     |  +--+-------------------+ 
              |     |     |  +----------+ 
   792        |     |     +--+ return;  | 
              |     |     |  +----------+ 
              |     |   +-+---+ 
   793        |     |   |  }  | 
              |     |   +-----+ 
   794        |     +--- LineNo = Token-&gt;LineNo;
   795        |     +--- s = &quot;&quot;;
              |     |  +----------------------------+ 
   796        |     +--+ for (i = Pos; i &gt; 0; i--){ | 
              |     |  +--+-------------------------+ 
   797        |     |     +--- Token = (TToken*)TokenList-&gt;Items[i];
              |     |     |  +--------------------------------+ 
   798        |     |     +--+ if (LineNo != Token-&gt;LineNo){  | 
              |     |     |  +--+-----------------------------+ 
   799        |     |     |     +--- i++;
              |     |     |     |  +--------+ 
   800        |     |     |     +--+ break; | 
              |     |     |     |  +--------+ 
              |     |     |   +-+---+ 
   801        |     |     |   |  }  | 
              |     |     |   +-----+ 
              |     |   +-+---+ 
   802        |     |   |  }  | 
              |     |   +-----+ 
              |     |  +------------------------------------+ 
   803        |     +--+ for (; i &lt; TokenList-&gt;Count; i++){ | 
              |     |  +--+---------------------------------+ 
   804        |     |     +--- Token = (TToken*)TokenList-&gt;Items[i];
              |     |     |  +--------------------------------------------------------------+ 
   805        |     |     +--+ if (Token-&gt;TokId == tid_LineEnd){ // １行単位で解析を行う。  | 
              |     |     |  +--+-----------------------------------------------------------+ 
              |     |     |     |  +--------+ 
   806        |     |     |     +--+ break; | 
              |     |     |     |  +--------+ 
              |     |     |   +-+---+ 
   807        |     |     |   |  }  | 
              |     |     |   +-----+ 
   808        |     |     +--- s += Token-&gt;OrgStr;
              |     |   +-+---+ 
   809        |     |   |  }  | 
              |     |   +-----+ 
   810        |     +--- s = FileName + &quot; LineNo = &quot; + IntToStr(LineNo) + &quot; &quot; + s;
   811        |     +--- s = Trim(s);
   812        |     +--- printf(&quot;  %s\n&quot;, s.c_str());
              |     |  +----------------------+ 
   813        |     +--+ if (LogFp != NULL){  | 
              |     |  +--+-------------------+ 
   814        |     |     +--- fprintf(LogFp, &quot;    %s\n&quot;, s.c_str());
              |     |   +-+---+ 
   815        |     |   |  }  | 
              |     |   +-----+ 
              |   +-+---+ 
   816        |   |  }  | 
              |   +-----+ 
            +-+---+ 
   817      |  }  | 
            +-----+ 
</pre>


</body>
</html>
